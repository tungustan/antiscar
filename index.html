<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Minimal Player</title>

<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
}

#container{
  position:relative;
  width:100vw;
  height:100vh;
}

video{
  width:100%;
  height:100%;
  object-fit:contain;
  background:black;
}

/* ì‹œì‘ ì˜¤ë²„ë ˆì´ */
#startOverlay{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:black;
  color:white;
  font-size:20px;
  z-index:20;
  cursor:pointer;
}

/* ì»¨íŠ¸ë¡¤ ì˜ì—­ */
.controls{
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  align-items:center;
  gap:12px;
  padding:8px 14px;
  border-radius:30px;
  backdrop-filter:blur(10px);
  background:rgba(255,255,255,0.1);
  transition:opacity .3s ease;
}

.hidden{
  opacity:0;
  pointer-events:none;
}

button{
  background:none;
  border:none;
  color:white;
  font-size:18px;
  padding:6px;
}

#progress{
  width:120px;
  accent-color:white;
}

#time{
  font-size:12px;
  opacity:.8;
}
</style>
</head>
<body>

<div id="container">

  <div id="startOverlay" onclick="startPlayer()">
    Tap to Start
  </div>

  <video id="player" playsinline></video>

  <div id="controls" class="controls">
    <button onclick="prevVideo()">â®</button>
    <button onclick="togglePlay()">â¯</button>
    <button onclick="nextVideo()">â­</button>
    <input type="range" id="progress" min="0" max="100" value="0">
    <div id="time">0:00</div>
  </div>

</div>

<script>
const pullZoneUrl = "https://vz-af7f48b7-cd1.b-cdn.net";

const videos = [
  "b5f37dc2-c84b-4ada-8f63-784c3962fd22",
  "e95789df-e709-434e-be8c-fdd6969ef422",
  "4dfa8dfd-8fb0-4221-b365-fa1d1ca91eb4"
];

let currentIndex=0;
let hideTimeout;

const player=document.getElementById("player");
const overlay=document.getElementById("startOverlay");
const controls=document.getElementById("controls");
const progress=document.getElementById("progress");
const time=document.getElementById("time");

function startPlayer(){
  overlay.style.display="none";
  enterFullscreen();
  playVideo(0);
}

function enterFullscreen(){
  const el=document.documentElement;
  if(el.requestFullscreen) el.requestFullscreen();
  else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
}

function playVideo(index){
  currentIndex=index;
  player.src=`${pullZoneUrl}/${videos[currentIndex]}/play_720p.mp4`;
  player.play().catch(()=>{});
}

function togglePlay(){
  if(player.paused) player.play();
  else player.pause();
}

function nextVideo(){
  currentIndex=(currentIndex+1)%videos.length;
  playVideo(currentIndex);
}

function prevVideo(){
  currentIndex=(currentIndex-1+videos.length)%videos.length;
  playVideo(currentIndex);
}

player.addEventListener("timeupdate",()=>{
  const percent=(player.currentTime/player.duration)*100||0;
  progress.value=percent;
  time.textContent=formatTime(player.currentTime);
});

progress.addEventListener("input",(e)=>{
  player.currentTime=(e.target.value/100)*player.duration;
});

player.addEventListener("ended",()=>{
  nextVideo();
});

function formatTime(t){
  if(!t) return "0:00";
  const m=Math.floor(t/60);
  const s=Math.floor(t%60).toString().padStart(2,"0");
  return `${m}:${s}`;
}

/* ğŸ”¥ ìë™ ìˆ¨ê¹€ */
function showControls(){
  controls.classList.remove("hidden");
  clearTimeout(hideTimeout);
  hideTimeout=setTimeout(()=>{
    controls.classList.add("hidden");
  },2000);
}

document.addEventListener("mousemove",showControls);
document.addEventListener("touchstart",showControls);

showControls();
</script>

</body>
</html>
