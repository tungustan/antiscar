<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#000000">
<title>Mobile Player</title>

<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,Arial;
}

#container{
  position:relative;
  width:100vw;
  height:100vh;
}

video{
  width:100%;
  height:100%;
  object-fit:contain;
  background:black;
}

/* 중앙 큰 재생 버튼 */
#centerPlay{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:60px;
  color:white;
  opacity:.8;
  pointer-events:none;
}

/* 하단 컨트롤 */
.controls{
  position:absolute;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:20px;
  padding:10px 20px;
  border-radius:40px;
  backdrop-filter:blur(15px);
  background:rgba(255,255,255,0.1);
}

button{
  background:none;
  border:none;
  color:white;
  font-size:22px;
  padding:10px;
}

/* 좌우 터치 영역 */
.touch-zone{
  position:absolute;
  top:0;
  width:50%;
  height:100%;
}

#leftZone{ left:0; }
#rightZone{ right:0; }
</style>
</head>
<body>

<div id="container">

  <video id="player" playsinline></video>

  <div id="centerPlay">▶</div>

  <div class="controls">
    <button onclick="prevVideo()">⏮</button>
    <button onclick="togglePlay()">⏯</button>
    <button onclick="nextVideo()">⏭</button>
  </div>

  <div id="leftZone" class="touch-zone"></div>
  <div id="rightZone" class="touch-zone"></div>

</div>

<script>
const pullZoneUrl="https://vz-af7f48b7-cd1.b-cdn.net";

const videos=[
  "b5f37dc2-c84b-4ada-8f63-784c3962fd22",
  "e95789df-e709-434e-be8c-fdd6969ef422",
  "4dfa8dfd-8fb0-4221-b365-fa1d1ca91eb4"
];

let currentIndex=0;
const player=document.getElementById("player");
const centerPlay=document.getElementById("centerPlay");

function playVideo(i){
  currentIndex=i;
  player.src=`${pullZoneUrl}/${videos[currentIndex]}/play_720p.mp4`;
  player.play().catch(()=>{});
}

function togglePlay(){
  if(player.paused){
    player.play();
    centerPlay.style.display="none";
  }else{
    player.pause();
    centerPlay.style.display="flex";
  }
}

function nextVideo(){
  currentIndex=(currentIndex+1)%videos.length;
  playVideo(currentIndex);
}

function prevVideo(){
  currentIndex=(currentIndex-1+videos.length)%videos.length;
  playVideo(currentIndex);
}

/* 자동 다음 */
player.addEventListener("ended",nextVideo);

/* 좌우 터치 → 이전/다음 */
document.getElementById("leftZone").addEventListener("click",prevVideo);
document.getElementById("rightZone").addEventListener("click",nextVideo);

/* 더블탭 10초 이동 */
let lastTap=0;
document.addEventListener("touchend",(e)=>{
  const now=new Date().getTime();
  if(now-lastTap<300){
    if(e.changedTouches[0].clientX < window.innerWidth/2){
      player.currentTime-=10;
    }else{
      player.currentTime+=10;
    }
  }
  lastTap=now;
});

/* 시작 */
playVideo(0);
</script>

</body>
</html>
